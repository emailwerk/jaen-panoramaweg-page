(self.webpackChunkjaen_panoramaweg_page=self.webpackChunkjaen_panoramaweg_page||[]).push([[431],{4929:function(e,t,n){"use strict";var o=n(4942),r=n(36299),i=n(74667),a=n(67294);function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u.apply(this,arguments)}var s=function(e){var t,n=e.type,i=void 0===n?"checkbox":n,s=e._hover,l=e._invalid,c=e._disabled,d=e._focus,f=e._checked,p=e._child,v=void 0===p?{opacity:0}:p,m=e._checkedAndChild,h=void 0===m?{opacity:1}:m,g=e._checkedAndDisabled,y=e._checkedAndFocus,b=e._checkedAndHover,C=e.children,x=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["type","_hover","_invalid","_disabled","_focus","_checked","_child","_checkedAndChild","_checkedAndDisabled","_checkedAndFocus","_checkedAndHover","children"]),T="input[type="+i+"]:checked:disabled + &",E="input[type="+i+"]:checked:hover:not(:disabled) + &",Z="input[type="+i+"]:checked:focus + &",k="input[type="+i+"]:disabled + &",j="input[type="+i+"]:focus + &",_="input[type="+i+"]:hover:not(:disabled):not(:checked) + &",O="input[type="+i+"]:checked + &, input[type="+i+"][aria-checked=mixed] + &",P="input[type="+i+"][aria-invalid=true] + &",w="& > *";return a.createElement(r.m$.div,u({},x,{"aria-hidden":!0,__css:(t={display:"inline-flex",alignItems:"center",justifyContent:"center",transitionProperty:"common",transitionDuration:"fast",flexShrink:0},(0,o.Z)(t,j,d),(0,o.Z)(t,_,s),(0,o.Z)(t,k,c),(0,o.Z)(t,P,l),(0,o.Z)(t,T,g),(0,o.Z)(t,Z,y),(0,o.Z)(t,E,b),(0,o.Z)(t,w,v),(0,o.Z)(t,O,u({},f,(0,o.Z)({},w,h))),t)}),C)};i.Ts&&(s.displayName="ControlBox")},95230:function(e,t,n){"use strict";n.d(t,{useToast:function(){return i.useToast}});n(4929);var o=n(16397);n.o(o,"useToast")&&n.d(t,{useToast:function(){return o.useToast}});var r=n(42980);n.o(r,"useToast")&&n.d(t,{useToast:function(){return r.useToast}});var i=n(14346)},42980:function(e,t,n){"use strict";var o=n(24762);n.o(o,"useToast")&&n.d(t,{useToast:function(){return o.useToast}});var r=n(96690);n.o(r,"useToast")&&n.d(t,{useToast:function(){return r.useToast}})},96690:function(){},14346:function(e,t,n){"use strict";n.d(t,{useToast:function(){return se}});var o=n(29439),r=n(12543),i=n(87487),a=n(38399),u=n(79735),s=n(36299),l=n(35587),c=n(58308),d=n(67294),f=n(50132);function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},p.apply(this,arguments)}var v=function(e){return d.createElement(f.J,p({viewBox:"0 0 24 24"},e),d.createElement("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"}))};function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},m.apply(this,arguments)}var h={info:{icon:function(e){return d.createElement(f.J,p({viewBox:"0 0 24 24"},e),d.createElement("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"}))},colorScheme:"blue"},warning:{icon:v,colorScheme:"orange"},success:{icon:function(e){return d.createElement(f.J,p({viewBox:"0 0 24 24"},e),d.createElement("path",{fill:"currentColor",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"}))},colorScheme:"green"},error:{icon:v,colorScheme:"red"}},g=(0,c.k)({name:"AlertContext",errorMessage:"useAlertContext: `context` is undefined. Seems you forgot to wrap alert components in `<Alert />`"}),y=(0,o.Z)(g,2),b=y[0],C=y[1],x=(0,r.G)((function(e,t){var n,o=(0,i.Lr)(e),r=o.status,c=void 0===r?"info":r,f=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(o,["status"]),p=null!=(n=e.colorScheme)?n:h[c].colorScheme,v=(0,a.j)("Alert",m({},e,{colorScheme:p})),g=m({width:"100%",display:"flex",alignItems:"center",position:"relative",overflow:"hidden"},v.container);return d.createElement(b,{value:{status:c}},d.createElement(u.Fo,{value:v},d.createElement(s.m$.div,m({role:"alert",ref:t},f,{className:(0,l.cx)("chakra-alert",e.className),__css:g}))))})),T=(0,r.G)((function(e,t){var n=(0,u.yK)();return d.createElement(s.m$.div,m({ref:t},e,{className:(0,l.cx)("chakra-alert__title",e.className),__css:n.title}))})),E=(0,r.G)((function(e,t){var n=m({display:"inline"},(0,u.yK)().description);return d.createElement(s.m$.div,m({ref:t},e,{className:(0,l.cx)("chakra-alert__desc",e.className),__css:n}))})),Z=function(e){var t=C().status,n=h[t].icon,o=(0,u.yK)();return d.createElement(s.m$.span,m({display:"inherit"},e,{className:(0,l.cx)("chakra-alert__icon",e.className),__css:o.icon}),d.createElement(n,{w:"100%",h:"100%"}))},k=n(81915),j=n(95623),_=n(80968),O=n(16397),P=n(94238),w=n(74667),S=n(15671),A=n(73935),M=n(4942),I=n(93433),B=n(43144),N=n(97326),R=n(89611);var $=n(50008);function D(e,t){if(t&&("object"===$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,N.Z)(e)}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}var F=n(24526),V=n(20908),G=n(68370),L=n(71708);var U=n(78076),J=n(93358),W=n(92569);n(84944);function X(e,t){var n=H(e,t),o=n?e[n].findIndex((function(e){return e.id===t})):-1;return{position:n,index:o}}var H=function(e,t){var n;return null==(n=Object.values(e).flat().find((function(e){return e.id===t})))?void 0:n.position};var K={initial:function(e){var t=e.position,n=["top","bottom"].includes(t)?"y":"x",o=["top-right","bottom-right"].includes(t)?1:-1;return"bottom"===t&&(o=1),(0,M.Z)({opacity:0},n,24*o)},animate:{opacity:1,y:0,x:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1]}},exit:{opacity:0,scale:.85,transition:{duration:.2,ease:[.4,0,1,1]}}},z=function(e){var t=e.id,n=e.message,r=e.onCloseComplete,i=e.onRequestRemove,a=e.requestClose,u=void 0!==a&&a,s=e.position,l=void 0===s?"bottom":s,c=e.duration,f=void 0===c?5e3:c,p=d.useState(f),v=(0,o.Z)(p,2),m=v[0],h=v[1],g=(0,J.hO)();(0,G.r)((function(){g||null==r||r()}),[g]),(0,G.r)((function(){h(f)}),[f]);var y=function(){g&&i()};d.useEffect((function(){g&&u&&i()}),[g,u,i]),function(e,t){var n=(0,L.W)(e);d.useEffect((function(){var e;if(null!=t)return e=window.setTimeout((function(){n()}),t),function(){e&&window.clearTimeout(e)}}),[t,n])}(y,m);var b=d.useMemo((function(){return function(e){var t="center";return e.includes("right")&&(t="flex-end"),e.includes("left")&&(t="flex-start"),{display:"flex",flexDirection:"column",alignItems:t}}(l)}),[l]);return d.createElement(W.E.li,{layout:!0,className:"chakra-toast",variants:K,initial:"initial",animate:"animate",exit:"exit",onHoverStart:function(){return h(null)},onHoverEnd:function(){return h(f)},custom:{position:l},style:b},d.createElement(U.default,{className:"chakra-toast__inner",style:{pointerEvents:"auto",maxWidth:560,minWidth:300,margin:"0.5rem"}},(0,w.mf)(n)?n({id:t,onClose:y}):n))};function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=q(e);if(t){var r=q(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return D(this,n)}}function Y(){return Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Y.apply(this,arguments)}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}w.Ts&&(z.displayName="Toast");var te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,R.Z)(e,t)}(n,e);var t=Q(n);function n(e){var o,r;(0,S.Z)(this,n),o=t.call(this,e),r=(0,N.Z)(o),ee((0,N.Z)(o),"state",{top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]}),ee((0,N.Z)(o),"notify",(function(e,t){var n=o.createToast(e,t),r=n.position,i=n.id;return o.setState((function(e){var t=r.includes("top")?[n].concat((0,I.Z)(e[r])):[].concat((0,I.Z)(e[r]),[n]);return Y({},e,(0,M.Z)({},r,t))})),i})),ee((0,N.Z)(o),"updateToast",(function(e,t){o.setState((function(n){var o=Y({},n),r=X(o,e),i=r.position,a=r.index;return i&&-1!==a&&(o[i][a]=Y({},o[i][a],t)),o}))})),ee((0,N.Z)(o),"closeAll",(function(e){var t=(void 0===e?{}:e).positions;r.setState((function(e){return(null!=t?t:["bottom","bottom-right","bottom-left","top","top-left","top-right"]).reduce((function(t,n){return t[n]=e[n].map((function(e){return Y({},e,{requestClose:!0})})),t}),{})}))})),ee((0,N.Z)(o),"createToast",(function(e,t){var r,i;n.counter+=1;var a=null!=(r=t.id)?r:n.counter,u=null!=(i=t.position)?i:"top";return{id:a,message:e,position:u,duration:t.duration,onCloseComplete:t.onCloseComplete,onRequestRemove:function(){return o.removeToast(String(a),u)},status:t.status,requestClose:!1}})),ee((0,N.Z)(o),"closeToast",(function(e){o.setState((function(t){var n=H(t,e);return n?Y({},t,(0,M.Z)({},n,t[n].map((function(t){return t.id==e?Y({},t,{requestClose:!0}):t})))):t}))})),ee((0,N.Z)(o),"removeToast",(function(e,t){o.setState((function(n){return Y({},n,(0,M.Z)({},t,n[t].filter((function(t){return t.id!=e}))))}))})),ee((0,N.Z)(o),"isVisible",(function(e){var t=X(o.state,e).position;return Boolean(t)})),ee((0,N.Z)(o),"getStyle",(function(e){return{position:"fixed",zIndex:5500,pointerEvents:"none",display:"flex",flexDirection:"column",margin:"top"===e||"bottom"===e?"0 auto":void 0,top:e.includes("top")?"env(safe-area-inset-top, 0px)":void 0,bottom:e.includes("bottom")?"env(safe-area-inset-bottom, 0px)":void 0,right:e.includes("left")?void 0:"env(safe-area-inset-right, 0px)",left:e.includes("right")?void 0:"env(safe-area-inset-left, 0px)"}}));var i={notify:o.notify,closeAll:o.closeAll,close:o.closeToast,update:o.updateToast,isActive:o.isVisible};return e.notify(i),o}return(0,B.Z)(n,[{key:"render",value:function(){var e=this;return(0,F.Yd)(this.state).map((function(t){var n=e.state[t];return d.createElement("ul",{key:t,id:"chakra-toast-manager-"+t,style:e.getStyle(t)},d.createElement(V.M,{initial:!1},n.map((function(e){return d.createElement(z,Y({key:e.id},e))}))))}))}}]),n}(d.Component);function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ee(te,"counter",0);var oe="chakra-toast-portal",re=new function e(){var t=this;(0,S.Z)(this,e);var n=this;if(ne(this,"createToast",void 0),ne(this,"removeAll",void 0),ne(this,"closeToast",void 0),ne(this,"updateToast",void 0),ne(this,"isToastActive",void 0),ne(this,"bindFunctions",(function(e){t.createToast=e.notify,t.removeAll=e.closeAll,t.closeToast=e.close,t.updateToast=e.update,t.isToastActive=e.isActive})),ne(this,"notify",(function(e,t){return void 0===t&&(t={}),null==n.createToast?void 0:n.createToast(e,t)})),ne(this,"close",(function(e){var n;null==(n=t.closeToast)||n.call(t,e)})),ne(this,"closeAll",(function(e){var n;null==(n=t.removeAll)||n.call(t,e)})),ne(this,"update",(function(e,t){void 0===t&&(t={}),null==n.updateToast||n.updateToast(e,t)})),ne(this,"isActive",(function(e){var n;return null==(n=t.isToastActive)?void 0:n.call(t,e)})),l.jU){var o,r=document.getElementById(oe);if(r)o=r;else{var i,a=document.createElement("div");a.id=oe,null==(i=document.body)||i.appendChild(a),o=a}(0,A.render)(d.createElement(te,{notify:this.bindFunctions}),o)}};function ie(){return ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ie.apply(this,arguments)}var ae=function(e){var t=e.status,n=e.variant,o=e.id,r=e.title,i=e.isClosable,a=e.onClose,u=e.description;return d.createElement(x,{status:t,variant:n,id:o,alignItems:"start",borderRadius:"md",boxShadow:"lg",paddingEnd:8,textAlign:"start",width:"auto"},d.createElement(Z,null),d.createElement(s.m$.div,{flex:"1",maxWidth:"100%"},r&&d.createElement(T,null,r),u&&d.createElement(E,{display:"block"},u)),i&&d.createElement(k.P,{size:"sm",onClick:a,position:"absolute",insetEnd:1,top:1}))},ue={theme:O.Z,colorMode:"light",toggleColorMode:P.ZT,setColorMode:P.ZT,defaultOptions:{duration:5e3,position:"bottom",variant:"solid"}};function se(e){var t=(0,_.uP)(),n=t.theme,o=t.setColorMode,r=t.toggleColorMode,i=t.colorMode;return d.useMemo((function(){return function(e){var t=void 0===e?ue:e,n=t.theme,o=void 0===n?ue.theme:n,r=t.colorMode,i=void 0===r?ue.colorMode:r,a=t.toggleColorMode,s=void 0===a?ue.toggleColorMode:a,l=t.setColorMode,c=void 0===l?ue.setColorMode:l,f=t.defaultOptions,p=void 0===f?ue.defaultOptions:f,v=function(e,t){return d.createElement(u.f6,{theme:o},d.createElement(j.kc.Provider,{value:{colorMode:i,setColorMode:c,toggleColorMode:s}},(0,w.mf)(t.render)?t.render(e):d.createElement(ae,ie({},e,t))))},m=function(e){var t=ie({},p,e);return re.notify((function(e){return v(e,t)}),t)};return m.close=re.close,m.closeAll=re.closeAll,m.update=function(e,t){if(e){var n=ie({},p,t);re.update(e,ie({},n,{message:function(e){return v(e,n)}}))}},m.isActive=re.isActive,m}({theme:n,colorMode:i,setColorMode:o,toggleColorMode:r,defaultOptions:e})}),[n,o,r,i,e])}},70891:function(e,t,n){e.exports=n(47446)},38215:function(e,t,n){"use strict";n.r(t);var o=n(11057),r=n(77193),i=n(73970),a=n(35095),u=(n(67294),n(7611));t.default=(0,a.X)((function(){var e=(0,i.TL)();return(0,u.jsx)(o.DiscardButton,{onDiscardClick:function(){e(r.Uv())}})}))},84060:function(e,t,n){"use strict";n.r(t);var o=n(11057),r=n(45208),i=n(73970),a=n(35095),u=(n(67294),n(7611));t.default=(0,a.X)((function(){var e=(0,i.TL)(),t=(0,i.CG)((function(e){return e.options.isEditing}));return(0,u.jsx)(o.EditButton,{isEditing:t,onEditChange:function(t){e(r.D(t))}})}))},55822:function(e,t,n){"use strict";n.r(t);var o,r=n(81880),i=n(15861),a=n(87757),u=n.n(a),s=n(95230),l=n(75075),c=n(70891),d=n(11057),f=n(35095),p=n(88050),v=(n(67294),n(7611)),m=new l.BifrostBridge({httpUrl:"https://origin.snek.at/graphql"});t.default=(0,f.X)((function(){var e=(0,c.useJaenCoreContext)(),t=(0,s.useToast)(),a=e.getAuthState().isGuest,l=function(){var a=(0,i.Z)(u().mark((function i(){var a,s,l,c,d,f,v;return u().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,n.e(120).then(n.bind(n,81120));case 2:return l=i.sent,c=l.upload,i.next=6,e.onPublish();case 6:return d=i.sent,i.next=9,c(JSON.stringify(d["jaen-pages"]));case 9:return f=i.sent,i.next=12,m.session.mutate((0,p.default)(o||(o=(0,r.Z)(["\n        mutation JaenPublishMutation($values: GenericScalar!, $url: String!) {\n          jaenPublishFormPage(values: $values, url: $url) {\n            result\n            errors {\n              name\n              errors\n            }\n          }\n        }\n      "]))),{url:"/jaen-publish",values:{git_remote:e.remote,jaendata_url:f}});case 12:v=i.sent,"OK"===(null===(a=v.data)||void 0===a||null===(s=a.jaenPublishFormPage)||void 0===s?void 0:s.result)?t({title:"Sucessfully published.",status:"success",duration:9e3,isClosable:!0}):t({title:"Publish failed.",status:"error",duration:9e3,isClosable:!0});case 14:case"end":return i.stop()}}),i)})));return function(){return a.apply(this,arguments)}}();return(0,v.jsx)(d.PublishButton,{disabled:a,onPublishClick:function(){return l()}})}))},72151:function(e,t,n){"use strict";n.r(t);var o=n(40156),r=n(35095),i=(n(67294),n(7611)),a=(0,o.ZP)((function(){return Promise.all([n.e(532),n.e(577),n.e(24),n.e(317)]).then(n.bind(n,12555))}));t.default=(0,r.X)((function(){return(0,i.jsx)(a,null)}))},58782:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Z}});n(38559);var o,r=n(83962),i=n(89349),a=n(40156),u=n(55673),s=n(25884),l=n(77193),c=n(73970),d=n(35095),f=n(19832),p=n(67294),v=new Uint8Array(16);function m(){if(!o&&!(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(v)}var h=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var g=function(e){return"string"==typeof e&&h.test(e)},y=[],b=0;b<256;++b)y.push((b+256).toString(16).substr(1));var C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(y[e[t+0]]+y[e[t+1]]+y[e[t+2]]+y[e[t+3]]+"-"+y[e[t+4]]+y[e[t+5]]+"-"+y[e[t+6]]+y[e[t+7]]+"-"+y[e[t+8]]+y[e[t+9]]+"-"+y[e[t+10]]+y[e[t+11]]+y[e[t+12]]+y[e[t+13]]+y[e[t+14]]+y[e[t+15]]).toLowerCase();if(!g(n))throw TypeError("Stringified UUID is invalid");return n};var x=function(e,t,n){var o=(e=e||{}).random||(e.rng||m)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=o[r];return t}return C(o)},T=n(7611),E=(0,a.ZP)((function(){return Promise.all([n.e(532),n.e(577),n.e(24),n.e(317)]).then(n.bind(n,12555))})),Z=(0,d.X)((function(){var e=(0,c.TL)(),t=(0,i.kp)(),n=(0,i.Qt)(),o=(0,r.q)(),a=(0,c.CG)((function(e){return e.site.routing.dynamicPaths})),d=p.useState(window.location.pathname),v=d[0],m=d[1],h=p.useMemo((function(){var e=v&&a[v];if(!e)for(var t=0,o=Object.entries(n.nodes);t<o.length;t++){var r=o[t],i=r[0];if(r[1].path===v)return i}return e}),[n.nodes,v,a]),g=p.useMemo((function(){return t.templates.map((function(e){return e.TemplateName}))}),[t.templates]),y=p.useState(null),b=y[0],C=y[1],Z=p.useState(null),k=Z[0],j=Z[1];p.useEffect((function(){if(k){var t=(0,s.D)(k,n);e(l.bR({dynamicPaths:t})),j(null)}}),[n]);var _=function(e){j(e)},O=function(t,o){var r=n.nodes[t].pageMetadata;e(l.T$({pageId:t,slug:o.slug,meta:{title:o.title||(null==r?void 0:r.title),description:o.description||(null==r?void 0:r.description),image:o.image||(null==r?void 0:r.image),isBlogPost:o.isBlogPost||(null==r?void 0:r.isBlogPost),datePublished:o.lastPublished||(null==r?void 0:r.datePublished)}})),_(t),P(t)},P=function(e){var t,o=n.nodes;e&&((t=Object.keys(a).find((function(t){return a[t]===e})))||(t=o[e].path));var r=t||"/";m(r),(0,f.navigate)(r)},w=p.useMemo((function(){return e=n.nodes,Object.fromEntries(Object.entries(e).map((function(e){var t,n=e[0],o=e[1],r=o.title,i=o.slug,a=o.parent,u=o.children,s=o.template,l=o.pageMetadata,c=o.deleted;return[n,{data:{slug:i||(null==o||null===(t=o.path)||void 0===t?void 0:t.split("/")[1]),title:(null==l?void 0:l.title)||r,description:(null==l?void 0:l.description)||"",image:(null==l?void 0:l.image)||"",isBlogPost:(null==l?void 0:l.isBlogPost)||!1,lastPublished:null==l?void 0:l.datePublished,templateName:s,locked:!s},children:u.map((function(e){return e.id})),parent:a?a.id:null,deleted:c}]})));var e}),[n.nodes]);return(0,T.jsx)(p.Fragment,null,(0,T.jsx)(u.PageExplorer,{items:w,rootItemIds:n.rootNodeIds,defaultSelection:h,templates:g,onItemCreate:function(t,o,r,i){var a="SitePage /"+x();e(l.Ws({pageId:a,page:{slug:r,template:i,parent:t?{id:t}:null,children:[],fields:{},pageMetadata:{title:o,description:"",image:"",canonical:"",isBlogPost:!1}},nodes:n.nodes})),_(a)},onItemDelete:function(t){P(null),e(l.CT(t)),_(t)},onItemUpdate:O,onItemMove:function(t,o){e(l.kj({sourceId:t,destinationId:o,nodes:n.nodes})),_(t),P(t)},onItemSelect:P,onItemImageClick:function(e){C(e),o.onOpen()}}),o.isOpen&&(0,T.jsx)(E,{mode:"selector",onSelectorClose:o.onClose,onSelectorSelect:function(e){b&&O(b,{image:e.src}),C(null),o.onClose()}}))}))},81177:function(e,t,n){"use strict";n.r(t);var o=n(83962),r=n(89349),i=n(40156),a=n(55673),u=n(77193),s=n(73970),l=n(35095),c=n(67294),d=n(7611),f=(0,i.ZP)((function(){return Promise.all([n.e(532),n.e(577),n.e(24),n.e(317)]).then(n.bind(n,12555))}));t.default=(0,l.X)((function(){var e=(0,s.TL)(),t=(0,o.q)(),n=(0,r.$W)(),i=function(t){e(u.iV({meta:t}))};return(0,d.jsx)(c.Fragment,null,(0,d.jsx)(a.Settings,{values:n,onValuesChange:i,onImageClick:function(){t.onOpen()}}),t.isOpen&&(0,d.jsx)(f,{mode:"selector",onSelectorClose:t.onClose,onSelectorSelect:function(e){i(Object.assign({},n,{image:e.src})),t.onClose()}}))}))},81880:function(e,t,n){"use strict";function o(e,t){return t||(t=e.slice(0)),e.raw=t,e}n.d(t,{Z:function(){return o}})}}]);
//# sourceMappingURL=jaenuichunk-07d3c8e150d8dc477597.js.map