{"version":3,"file":"66-5da0d8a97f2ca8ef949f.js","mappings":"kHACAA,EAAOC,QAAyB,iBAARC,KAAmBA,KAAKC,SAAWC,OAAOD,U,4JCDrDE,EAAM,mCAAG,WAAOC,GAAP,oFACdC,EAAM,8BAENC,EAAW,IAAIL,SAGjBG,aAAmBG,MAAQH,aAAmBI,KAChDF,EAASG,OAAO,OAAQL,GAExBE,EAASG,OACP,OACA,IAAID,KAAK,CAACE,KAAKC,UAAUP,IAAW,kBAAmB,CACrDQ,KAAM,sBAZQ,SAiBDC,MAAMR,EAAK,CAC5BS,KAAMR,EACNS,OAAQ,SAnBU,cAiBdC,EAjBc,gBAsBDA,EAAKC,OAtBJ,cAsBdA,EAtBc,yBAwBVZ,EAxBU,IAwBHY,EAAKC,SAxBF,4CAAH,sDA8BNC,EAAoB,mCAAG,WAAOf,GAAP,sFAC5BH,EAAWmB,EAAQ,QAEnBd,EAAW,IAAIL,GAEZQ,OAAO,OAAQL,EAAS,CAC/BiB,YAAajB,EAAQkB,OACrBC,SAAU,kBACVC,YAAa,qBAGTnB,EAAM,8BAXsB,SAafQ,MAAMR,EAAK,CAC5BS,KAAMR,EACNS,OAAQ,SAfwB,cAa5BC,EAb4B,gBAkBfA,EAAKC,OAlBU,cAkB5BA,EAlB4B,yBAoBxBZ,EApBwB,IAoBjBY,EAAKC,SApBY,4CAAH","sources":["webpack://jaen-panoramaweg-page/./node_modules/form-data/lib/browser.js","webpack://jaen-panoramaweg-page/./node_modules/@jaenjs/jaen/src/storage.ts"],"sourcesContent":["/* eslint-env browser */\nmodule.exports = typeof self == 'object' ? self.FormData : window.FormData;","export const upload = async (payload: object | Blob | File) => {\n  const url = 'https://osg.snek.at/storage'\n\n  const formData = new FormData()\n\n  // payload to blob\n  if (payload instanceof Blob || payload instanceof File) {\n    formData.append('file', payload)\n  } else {\n    formData.append(\n      'file',\n      new File([JSON.stringify(payload)], 'jaen-index.json', {\n        type: 'application/json'\n      })\n    )\n  }\n\n  const resp = await fetch(url, {\n    body: formData,\n    method: 'POST'\n  })\n\n  const json = await resp.json()\n\n  return `${url}/${json.file_id}`\n}\n\n/**\n * Upload function for NodeJS\n */\nexport const nodejsSafeJsonUpload = async (payload: string) => {\n  const FormData = require('form-data')\n\n  const formData = new FormData()\n\n  formData.append('file', payload, {\n    knownLength: payload.length,\n    filename: 'jaen-index.json',\n    contentType: 'application/json'\n  })\n\n  const url = 'https://osg.snek.at/storage'\n\n  const resp = await fetch(url, {\n    body: formData,\n    method: 'POST'\n  })\n\n  const json = await resp.json()\n\n  return `${url}/${json.file_id}`\n}\n"],"names":["module","exports","self","FormData","window","upload","payload","url","formData","Blob","File","append","JSON","stringify","type","fetch","body","method","resp","json","file_id","nodejsSafeJsonUpload","require","knownLength","length","filename","contentType"],"sourceRoot":""}