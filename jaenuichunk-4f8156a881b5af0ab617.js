(self.webpackChunkjaen_panoramaweg_page=self.webpackChunkjaen_panoramaweg_page||[]).push([[431],{70891:function(e,t,n){e.exports=n(47446)},38215:function(e,t,n){"use strict";n.r(t);var r=n(11057),i=n(77193),o=n(73970),u=n(35095),a=(n(67294),n(7611));t.default=(0,u.X)((function(){var e=(0,o.TL)();return(0,a.jsx)(r.DiscardButton,{onDiscardClick:function(){e(i.Uv())}})}))},84060:function(e,t,n){"use strict";n.r(t);var r=n(11057),i=n(45208),o=n(73970),u=n(35095),a=(n(67294),n(7611));t.default=(0,u.X)((function(){var e=(0,o.TL)(),t=(0,o.CG)((function(e){return e.options.isEditing}));return(0,a.jsx)(r.EditButton,{isEditing:t,onEditChange:function(t){e(i.D(t))}})}))},55822:function(e,t,n){"use strict";n.r(t);var r,i=n(81880),o=n(15861),u=n(87757),a=n.n(u),s=n(95230),l=n(75075),c=n(70891),d=n(11057),f=n(35095),p=n(88050),m=(n(67294),n(7611)),g=new l.BifrostBridge({httpUrl:"https://origin.snek.at/graphql"});t.default=(0,f.X)((function(){var e=(0,c.useJaenCoreContext)(),t=(0,s.useToast)(),u=e.getAuthState().isGuest,l=function(){var u=(0,o.Z)(a().mark((function o(){var u,s,l,c,d,f,m;return a().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,n.e(120).then(n.bind(n,81120));case 2:return l=o.sent,c=l.upload,o.next=6,e.onPublish();case 6:return d=o.sent,o.next=9,c(JSON.stringify(d["jaen-pages"]));case 9:return f=o.sent,o.next=12,g.session.mutate((0,p.default)(r||(r=(0,i.Z)(["\n        mutation JaenPublishMutation($values: GenericScalar!, $url: String!) {\n          jaenPublishFormPage(values: $values, url: $url) {\n            result\n            errors {\n              name\n              errors\n            }\n          }\n        }\n      "]))),{url:"/jaen-publish",values:{git_remote:e.remote,jaendata_url:f}});case 12:m=o.sent,"OK"===(null===(u=m.data)||void 0===u||null===(s=u.jaenPublishFormPage)||void 0===s?void 0:s.result)?t({title:"Sucessfully published.",status:"success",duration:9e3,isClosable:!0}):t({title:"Publish failed.",status:"error",duration:9e3,isClosable:!0});case 14:case"end":return o.stop()}}),o)})));return function(){return u.apply(this,arguments)}}();return(0,m.jsx)(d.PublishButton,{disabled:u,onPublishClick:function(){return l()}})}))},72151:function(e,t,n){"use strict";n.r(t);var r=n(40156),i=n(35095),o=(n(67294),n(7611)),u=(0,r.ZP)((function(){return Promise.all([n.e(532),n.e(577),n.e(24),n.e(317)]).then(n.bind(n,12555))}));t.default=(0,i.X)((function(){return(0,o.jsx)(u,null)}))},58782:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});n(38559);var r,i=n(83962),o=n(89349),u=n(40156),a=n(55673),s=n(25884),l=n(77193),c=n(73970),d=n(35095),f=n(19832),p=n(67294),m=new Uint8Array(16);function g(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(m)}var v=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var h=function(e){return"string"==typeof e&&v.test(e)},b=[],P=0;P<256;++P)b.push((P+256).toString(16).substr(1));var C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(b[e[t+0]]+b[e[t+1]]+b[e[t+2]]+b[e[t+3]]+"-"+b[e[t+4]]+b[e[t+5]]+"-"+b[e[t+6]]+b[e[t+7]]+"-"+b[e[t+8]]+b[e[t+9]]+"-"+b[e[t+10]]+b[e[t+11]]+b[e[t+12]]+b[e[t+13]]+b[e[t+14]]+b[e[t+15]]).toLowerCase();if(!h(n))throw TypeError("Stringified UUID is invalid");return n};var j=function(e,t,n){var r=(e=e||{}).random||(e.rng||g)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return C(r)},y=n(7611),S=(0,u.ZP)((function(){return Promise.all([n.e(532),n.e(577),n.e(24),n.e(317)]).then(n.bind(n,12555))})),x=(0,d.X)((function(){var e=(0,c.TL)(),t=(0,o.kp)(),n=(0,o.Qt)(),r=(0,i.q)(),u=(0,c.CG)((function(e){return e.site.routing.dynamicPaths})),d=p.useState(window.location.pathname),m=d[0],g=d[1],v=p.useMemo((function(){var e=m&&u[m];if(!e)for(var t=0,r=Object.entries(n.nodes);t<r.length;t++){var i=r[t],o=i[0];if(i[1].path===m)return o}return e}),[n.nodes,m,u]),h=p.useMemo((function(){return t.templates.map((function(e){return e.TemplateName}))}),[t.templates]),b=p.useState(null),P=b[0],C=b[1],x=p.useState(null),I=x[0],w=x[1];p.useEffect((function(){if(I){var t=(0,s.D)(I,n);e(l.bR({dynamicPaths:t})),w(null)}}),[n]);var k=function(e){w(e)},B=function(t,r){var i=n.nodes[t].pageMetadata;e(l.T$({pageId:t,slug:r.slug,meta:{title:r.title||(null==i?void 0:i.title),description:r.description||(null==i?void 0:i.description),image:r.image||(null==i?void 0:i.image),isBlogPost:r.isBlogPost||(null==i?void 0:i.isBlogPost),datePublished:r.lastPublished||(null==i?void 0:i.datePublished)}})),k(t),O(t)},O=function(e){var t,r=n.nodes;e&&((t=Object.keys(u).find((function(t){return u[t]===e})))||(t=r[e].path));var i=t||"/";g(i),(0,f.navigate)(i)},E=p.useMemo((function(){return e=n.nodes,Object.fromEntries(Object.entries(e).map((function(e){var t,n=e[0],r=e[1],i=r.title,o=r.slug,u=r.parent,a=r.children,s=r.template,l=r.pageMetadata,c=r.deleted;return[n,{data:{slug:o||(null==r||null===(t=r.path)||void 0===t?void 0:t.split("/")[1]),title:(null==l?void 0:l.title)||i,description:(null==l?void 0:l.description)||"",image:(null==l?void 0:l.image)||"",isBlogPost:(null==l?void 0:l.isBlogPost)||!1,lastPublished:null==l?void 0:l.datePublished,templateName:s,locked:!s},children:a.map((function(e){return e.id})),parent:u?u.id:null,deleted:c}]})));var e}),[n.nodes]);return(0,y.jsx)(p.Fragment,null,(0,y.jsx)(a.PageExplorer,{items:E,rootItemIds:n.rootNodeIds,defaultSelection:v,templates:h,onItemCreate:function(t,r,i,o){var u="SitePage /"+j();e(l.Ws({pageId:u,page:{slug:i,template:o,parent:t?{id:t}:null,children:[],fields:{},pageMetadata:{title:r,description:"",image:"",canonical:"",isBlogPost:!1}},nodes:n.nodes})),k(u)},onItemDelete:function(t){O(null),e(l.CT(t)),k(t)},onItemUpdate:B,onItemMove:function(t,r){e(l.kj({sourceId:t,destinationId:r,nodes:n.nodes})),k(t),O(t)},onItemSelect:O,onItemImageClick:function(e){C(e),r.onOpen()}}),r.isOpen&&(0,y.jsx)(S,{mode:"selector",onSelectorClose:r.onClose,onSelectorSelect:function(e){P&&B(P,{image:e.src}),C(null),r.onClose()}}))}))},81177:function(e,t,n){"use strict";n.r(t);var r=n(83962),i=n(89349),o=n(40156),u=n(55673),a=n(77193),s=n(73970),l=n(35095),c=n(67294),d=n(7611),f=(0,o.ZP)((function(){return Promise.all([n.e(532),n.e(577),n.e(24),n.e(317)]).then(n.bind(n,12555))}));t.default=(0,l.X)((function(){var e=(0,s.TL)(),t=(0,r.q)(),n=(0,i.$W)(),o=function(t){e(a.iV({meta:t}))};return(0,d.jsx)(c.Fragment,null,(0,d.jsx)(u.Settings,{values:n,onValuesChange:o,onImageClick:function(){t.onOpen()}}),t.isOpen&&(0,d.jsx)(f,{mode:"selector",onSelectorClose:t.onClose,onSelectorSelect:function(e){o(Object.assign({},n,{image:e.src})),t.onClose()}}))}))},81880:function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),e.raw=t,e}n.d(t,{Z:function(){return r}})}}]);
//# sourceMappingURL=jaenuichunk-4f8156a881b5af0ab617.js.map