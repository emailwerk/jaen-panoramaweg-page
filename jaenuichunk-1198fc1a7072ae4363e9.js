"use strict";(self.webpackChunkjaen_panoramaweg_page=self.webpackChunkjaen_panoramaweg_page||[]).push([[431],{38215:function(e,n,t){t.r(n);var o=t(11057),r=t(77193),i=t(73970),a=t(35095),u=(t(67294),t(7611));n.default=(0,a.X)((function(){var e=(0,i.TL)();return(0,u.jsx)(o.DiscardButton,{onDiscardClick:function(){e(r.Uv())}})}))},84060:function(e,n,t){t.r(n);var o=t(11057),r=t(45208),i=t(73970),a=t(35095),u=(t(67294),t(7611));n.default=(0,a.X)((function(){var e=(0,i.TL)(),n=(0,i.CG)((function(e){return e.options.isEditing}));return(0,u.jsx)(o.EditButton,{isEditing:n,onEditChange:function(n){e(r.D(n))}})}))},55822:function(e,n,t){t.r(n);var o,r=t(81880),i=t(15861),a=t(87757),u=t.n(a),s=t(95230),l=t(75075),d=t(70891),c=t(11057),f=t(35095),p=t(88050),m=(t(67294),t(7611)),g=new l.BifrostBridge({httpUrl:"https://origin.snek.at/graphql"});n.default=(0,f.X)((function(){var e=(0,d.useJaenCoreContext)(),n=(0,s.useToast)(),a=e.getAuthState().isGuest,l=function(){var a=(0,i.Z)(u().mark((function i(){var a,s,l,d,c,f,m;return u().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.e(120).then(t.bind(t,81120));case 2:return l=i.sent,d=l.upload,i.next=6,e.onPublish();case 6:return c=i.sent,i.next=9,d(JSON.stringify(c["jaen-pages"]));case 9:return f=i.sent,i.next=12,g.session.mutate((0,p.default)(o||(o=(0,r.Z)(["\n        mutation JaenPublishMutation($values: GenericScalar!, $url: String!) {\n          jaenPublishFormPage(values: $values, url: $url) {\n            result\n            errors {\n              name\n              errors\n            }\n          }\n        }\n      "]))),{url:"/jaen-publish",values:{git_remote:e.remote,jaendata_url:f}});case 12:m=i.sent,"OK"===(null===(a=m.data)||void 0===a||null===(s=a.jaenPublishFormPage)||void 0===s?void 0:s.result)?n({title:"Sucessfully published.",status:"success",duration:9e3,isClosable:!0}):n({title:"Publish failed.",status:"error",duration:9e3,isClosable:!0});case 14:case"end":return i.stop()}}),i)})));return function(){return a.apply(this,arguments)}}();return(0,m.jsx)(c.PublishButton,{disabled:a,onPublishClick:function(){return l()}})}))},72151:function(e,n,t){t.r(n);var o=t(40156),r=t(35095),i=(t(67294),t(7611)),a=(0,o.ZP)((function(){return Promise.all([t.e(532),t.e(577),t.e(24),t.e(317)]).then(t.bind(t,12555))}));n.default=(0,r.X)((function(){return(0,i.jsx)(a,null)}))},58782:function(e,n,t){t.r(n),t.d(n,{default:function(){return x}});t(38559);var o,r=t(83962),i=t(89349),a=t(40156),u=t(55673),s=t(25884),l=t(77193),d=t(73970),c=t(35095),f=t(19832),p=t(67294),m=new Uint8Array(16);function g(){if(!o&&!(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(m)}var v=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var h=function(e){return"string"==typeof e&&v.test(e)},b=[],P=0;P<256;++P)b.push((P+256).toString(16).substr(1));var C=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(b[e[n+0]]+b[e[n+1]]+b[e[n+2]]+b[e[n+3]]+"-"+b[e[n+4]]+b[e[n+5]]+"-"+b[e[n+6]]+b[e[n+7]]+"-"+b[e[n+8]]+b[e[n+9]]+"-"+b[e[n+10]]+b[e[n+11]]+b[e[n+12]]+b[e[n+13]]+b[e[n+14]]+b[e[n+15]]).toLowerCase();if(!h(t))throw TypeError("Stringified UUID is invalid");return t};var j=function(e,n,t){var o=(e=e||{}).random||(e.rng||g)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,n){t=t||0;for(var r=0;r<16;++r)n[t+r]=o[r];return n}return C(o)},y=t(7611),S=(0,a.ZP)((function(){return Promise.all([t.e(532),t.e(577),t.e(24),t.e(317)]).then(t.bind(t,12555))})),x=(0,c.X)((function(){var e=(0,d.TL)(),n=(0,i.kp)(),t=(0,i.Qt)(),o=(0,r.q)(),a=(0,d.CG)((function(e){return e.site.routing.dynamicPaths})),c=p.useState(window.location.pathname),m=c[0],g=c[1],v=p.useMemo((function(){var e=m&&a[m];if(!e)for(var n=0,o=Object.entries(t.nodes);n<o.length;n++){var r=o[n],i=r[0];if(r[1].path===m)return i}return e}),[t.nodes,m,a]),h=p.useMemo((function(){return n.templates.map((function(e){return e.TemplateName}))}),[n.templates]),b=p.useState(null),P=b[0],C=b[1],x=p.useState(null),I=x[0],w=x[1];p.useEffect((function(){if(I){var n=(0,s.D)(I,t);e(l.bR({dynamicPaths:n})),w(null)}}),[t]);var k=function(e){w(e)},B=function(n,o){var r=t.nodes[n].pageMetadata;e(l.T$({pageId:n,slug:o.slug,meta:{title:o.title||(null==r?void 0:r.title),description:o.description||(null==r?void 0:r.description),image:o.image||(null==r?void 0:r.image),isBlogPost:o.isBlogPost||(null==r?void 0:r.isBlogPost),datePublished:o.lastPublished||(null==r?void 0:r.datePublished)}})),k(n),O(n)},O=function(e){var n,o=t.nodes;e&&((n=Object.keys(a).find((function(n){return a[n]===e})))||(n=o[e].path));var r=n||"/";g(r),(0,f.navigate)(r)},E=p.useMemo((function(){return e=t.nodes,Object.fromEntries(Object.entries(e).map((function(e){var n,t=e[0],o=e[1],r=o.title,i=o.slug,a=o.parent,u=o.children,s=o.template,l=o.pageMetadata,d=o.deleted;return[t,{data:{slug:i||(null==o||null===(n=o.path)||void 0===n?void 0:n.split("/")[1]),title:(null==l?void 0:l.title)||r,description:(null==l?void 0:l.description)||"",image:(null==l?void 0:l.image)||"",isBlogPost:(null==l?void 0:l.isBlogPost)||!1,lastPublished:null==l?void 0:l.datePublished,templateName:s,locked:!s},children:u.map((function(e){return e.id})),parent:a?a.id:null,deleted:d}]})));var e}),[t.nodes]);return(0,y.jsx)(p.Fragment,null,(0,y.jsx)(u.PageExplorer,{items:E,rootItemIds:t.rootNodeIds,defaultSelection:v,templates:h,onItemCreate:function(n,o,r,i){var a="SitePage /"+j();e(l.Ws({pageId:a,page:{slug:r,template:i,parent:n?{id:n}:null,children:[],fields:{},pageMetadata:{title:o,description:"",image:"",canonical:"",isBlogPost:!1}},nodes:t.nodes})),k(a)},onItemDelete:function(n){O(null),e(l.CT(n)),k(n)},onItemUpdate:B,onItemMove:function(n,o){e(l.kj({sourceId:n,destinationId:o,nodes:t.nodes})),k(n),O(n)},onItemSelect:O,onItemImageClick:function(e){C(e),o.onOpen()}}),o.isOpen&&(0,y.jsx)(S,{mode:"selector",onSelectorClose:o.onClose,onSelectorSelect:function(e){P&&B(P,{image:e.src}),C(null),o.onClose()}}))}))},81177:function(e,n,t){t.r(n);var o=t(83962),r=t(89349),i=t(40156),a=t(55673),u=t(77193),s=t(73970),l=t(35095),d=t(67294),c=t(7611),f=(0,i.ZP)((function(){return Promise.all([t.e(532),t.e(577),t.e(24),t.e(317)]).then(t.bind(t,12555))}));n.default=(0,l.X)((function(){var e=(0,s.TL)(),n=(0,o.q)(),t=(0,r.$W)(),i=function(n){e(u.iV({meta:n}))};return(0,c.jsx)(d.Fragment,null,(0,c.jsx)(a.Settings,{values:t,onValuesChange:i,onImageClick:function(){n.onOpen()}}),n.isOpen&&(0,c.jsx)(f,{mode:"selector",onSelectorClose:n.onClose,onSelectorSelect:function(e){i(Object.assign({},t,{image:e.src})),n.onClose()}}))}))},81880:function(e,n,t){function o(e,n){return n||(n=e.slice(0)),e.raw=n,e}t.d(n,{Z:function(){return o}})}}]);
//# sourceMappingURL=jaenuichunk-1198fc1a7072ae4363e9.js.map